{
  "version": 3,
  "sources": ["../../../../../node_modules/@t3-oss/env-core/dist/index.js"],
  "sourcesContent": ["import { z } from 'zod';\n\nfunction createEnv(opts) {\n    const runtimeEnv = opts.runtimeEnvStrict ?? opts.runtimeEnv ?? process.env;\n    const emptyStringAsUndefined = opts.emptyStringAsUndefined ?? false;\n    if (emptyStringAsUndefined) {\n        for (const [key, value] of Object.entries(runtimeEnv)){\n            if (value === \"\") {\n                delete runtimeEnv[key];\n            }\n        }\n    }\n    const skip = !!opts.skipValidation;\n    // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n    if (skip) return runtimeEnv;\n    const _client = typeof opts.client === \"object\" ? opts.client : {};\n    const _server = typeof opts.server === \"object\" ? opts.server : {};\n    const _shared = typeof opts.shared === \"object\" ? opts.shared : {};\n    const client = z.object(_client);\n    const server = z.object(_server);\n    const shared = z.object(_shared);\n    const isServer = opts.isServer ?? typeof window === \"undefined\";\n    const allClient = client.merge(shared);\n    const allServer = server.merge(shared).merge(client);\n    const parsed = isServer ? allServer.safeParse(runtimeEnv) // on server we can validate all env vars\n     : allClient.safeParse(runtimeEnv); // on client we can only validate the ones that are exposed\n    const onValidationError = opts.onValidationError ?? ((error)=>{\n        console.error(\"❌ Invalid environment variables:\", error.flatten().fieldErrors);\n        throw new Error(\"Invalid environment variables\");\n    });\n    const onInvalidAccess = opts.onInvalidAccess ?? ((_variable)=>{\n        throw new Error(\"❌ Attempted to access a server-side environment variable on the client\");\n    });\n    if (parsed.success === false) {\n        return onValidationError(parsed.error);\n    }\n    const isServerAccess = (prop)=>{\n        if (!opts.clientPrefix) return true;\n        return !prop.startsWith(opts.clientPrefix) && !(prop in shared.shape);\n    };\n    const isValidServerAccess = (prop)=>{\n        return isServer || !isServerAccess(prop);\n    };\n    const ignoreProp = (prop)=>{\n        return prop === \"__esModule\" || prop === \"$$typeof\";\n    };\n    const extendedObj = (opts.extends ?? []).reduce((acc, curr)=>{\n        return Object.assign(acc, curr);\n    }, {});\n    const fullObj = Object.assign(parsed.data, extendedObj);\n    const env = new Proxy(fullObj, {\n        get (target, prop) {\n            if (typeof prop !== \"string\") return undefined;\n            if (ignoreProp(prop)) return undefined;\n            if (!isValidServerAccess(prop)) return onInvalidAccess(prop);\n            return Reflect.get(target, prop);\n        }\n    });\n    // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n    return env;\n}\n\nexport { createEnv };\n"],
  "mappings": ";;;;;;AAEA,SAAS,UAAU,MAAM;AACrB,QAAM,aAAa,KAAK,oBAAoB,KAAK,cAAc,QAAQ;AACvE,QAAM,yBAAyB,KAAK,0BAA0B;AAC9D,MAAI,wBAAwB;AACxB,eAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,UAAU,GAAE;AAClD,UAAI,UAAU,IAAI;AACd,eAAO,WAAW,GAAG;AAAA,MACzB;AAAA,IACJ;AAAA,EACJ;AACA,QAAM,OAAO,CAAC,CAAC,KAAK;AAEpB,MAAI,KAAM,QAAO;AACjB,QAAM,UAAU,OAAO,KAAK,WAAW,WAAW,KAAK,SAAS,CAAC;AACjE,QAAM,UAAU,OAAO,KAAK,WAAW,WAAW,KAAK,SAAS,CAAC;AACjE,QAAM,UAAU,OAAO,KAAK,WAAW,WAAW,KAAK,SAAS,CAAC;AACjE,QAAM,SAAS,EAAE,OAAO,OAAO;AAC/B,QAAM,SAAS,EAAE,OAAO,OAAO;AAC/B,QAAM,SAAS,EAAE,OAAO,OAAO;AAC/B,QAAM,WAAW,KAAK,YAAY,OAAO,WAAW;AACpD,QAAM,YAAY,OAAO,MAAM,MAAM;AACrC,QAAM,YAAY,OAAO,MAAM,MAAM,EAAE,MAAM,MAAM;AACnD,QAAM,SAAS,WAAW,UAAU,UAAU,UAAU,IACrD,UAAU,UAAU,UAAU;AACjC,QAAM,oBAAoB,KAAK,sBAAsB,CAAC,UAAQ;AAC1D,YAAQ,MAAM,oCAAoC,MAAM,QAAQ,EAAE,WAAW;AAC7E,UAAM,IAAI,MAAM,+BAA+B;AAAA,EACnD;AACA,QAAM,kBAAkB,KAAK,oBAAoB,CAAC,cAAY;AAC1D,UAAM,IAAI,MAAM,wEAAwE;AAAA,EAC5F;AACA,MAAI,OAAO,YAAY,OAAO;AAC1B,WAAO,kBAAkB,OAAO,KAAK;AAAA,EACzC;AACA,QAAM,iBAAiB,CAAC,SAAO;AAC3B,QAAI,CAAC,KAAK,aAAc,QAAO;AAC/B,WAAO,CAAC,KAAK,WAAW,KAAK,YAAY,KAAK,EAAE,QAAQ,OAAO;AAAA,EACnE;AACA,QAAM,sBAAsB,CAAC,SAAO;AAChC,WAAO,YAAY,CAAC,eAAe,IAAI;AAAA,EAC3C;AACA,QAAM,aAAa,CAAC,SAAO;AACvB,WAAO,SAAS,gBAAgB,SAAS;AAAA,EAC7C;AACA,QAAM,eAAe,KAAK,WAAW,CAAC,GAAG,OAAO,CAAC,KAAK,SAAO;AACzD,WAAO,OAAO,OAAO,KAAK,IAAI;AAAA,EAClC,GAAG,CAAC,CAAC;AACL,QAAM,UAAU,OAAO,OAAO,OAAO,MAAM,WAAW;AACtD,QAAM,MAAM,IAAI,MAAM,SAAS;AAAA,IAC3B,IAAK,QAAQ,MAAM;AACf,UAAI,OAAO,SAAS,SAAU,QAAO;AACrC,UAAI,WAAW,IAAI,EAAG,QAAO;AAC7B,UAAI,CAAC,oBAAoB,IAAI,EAAG,QAAO,gBAAgB,IAAI;AAC3D,aAAO,QAAQ,IAAI,QAAQ,IAAI;AAAA,IACnC;AAAA,EACJ,CAAC;AAED,SAAO;AACX;",
  "names": []
}
